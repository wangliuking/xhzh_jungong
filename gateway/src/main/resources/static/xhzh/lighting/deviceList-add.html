<div class="modal fade" id="add" tabindex="-1" role="dialog"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="color-line"></div>
            <div class="modal-header ">
                <span>添加设备</span>
            </div>
            <div class="modal-body pad-0" style="margin: 2px; padding: 2px;">
                <form action="#" id="addForm" onSubmit="return false">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group col-md-12">
                                <label>设备类型</label>&nbsp;<span class="text-danger">[*]</span>
                                <select class="selectForArea" id="deviceType" style="width:100%;" ng-change="changeDeviceTypeChoose(a)" ng-model="a">
                                    <option value="">请选择</option>
                                    <option ng-repeat="a in deviceNames" ng-value="a.id">{{a.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group col-md-12">
                                <label>站点名称</label>&nbsp;<span class="text-danger">[*]</span>
                                <select class="selectForArea" id="siteNameAdd" style="width:100%;" name="site_id" ng-change="changeRtuListAdd()" ng-model="b">
                                    <option value="">请选择</option>
                                    <option ng-repeat="b in siteNamesAdd" ng-value="b.site_id">{{b.site_name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group col-md-12">
                                <label>RTU-ID</label>&nbsp;<span class="text-danger">[*]</span>
                                <select class="selectForArea" id="rtu_id" style="width:100%;" name="rtu_id">
                                    <option ng-repeat="x in rtuNamesAdd" ng-value="x.rtu_id">{{x.rtu_id}}</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="spdConf" ng-if="deviceTypeChoose == 1">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>名称</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="spd_name"
                                           placeholder="请输入SPD的名称">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>型号</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="spd_model"
                                           placeholder="请输入SPD的型号">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>安装位置</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="spd_location"
                                           placeholder="请输入SPD的安装位置">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>查询间隔</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="spd_space"
                                           placeholder="请输入SPD的查询间隔(秒)">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>SPD路数</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="spd_number"
                                           placeholder="请输入SPD的路数">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>防护等级</label>&nbsp;<span class="text-danger">[*]</span><br/>
                                    <input type="radio" value="1" class="" name="spd_level">一级
                                    <input type="radio" value="2" class="" name="spd_level">二级
                                    <input type="radio" value="3" class="" name="spd_level">三级
                                    <input type="radio" value="4" class="" name="spd_level">四级
                                    <input type="radio" value="5" class="" name="spd_level">五级
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="etcrConf" ng-if="deviceTypeChoose == 2">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>设备ID</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_id" placeholder="请输入接地电阻的ID">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>名称</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_name" placeholder="请输入接地电阻的名称">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>型号</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_model" placeholder="请输入接地电阻的型号">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>安装位置</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_location" placeholder="请输入接地电阻的安装位置">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group col-md-12">
                                    <label>查询间隔</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_space" placeholder="请输入">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group col-md-12">
                                    <label>同串口查询间隔</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_ospace" placeholder="请输入">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group col-md-12">
                                    <label>端口号</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rtu_port" placeholder="请输入">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group col-md-12">
                                    <label>端口波特率</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rtu_baud_rate" placeholder="请输入">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>预警阈值</label>&nbsp;<span class="text-danger">[*]</span>
                                    <input type="text" value="" class="form-control" name="rst_threshold" placeholder="请输入">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group col-md-12">
                                    <label>所属类型</label>&nbsp;<span class="text-danger">[*]</span>
                                    <select class="selectForArea" id="etcrType" style="width:100%;" ng-change="changeEtcr(c)" ng-model="c" name="rst_type">
                                        <option value="">请选择</option>
                                        <option ng-repeat="c in etcrs" ng-value="c.id">{{c.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="etcr-j" ng-if="changeEtcr == 1">
                            <div class="row">
                                <div class="col-md-12">
                                    继电器接入：
                                </div>
                            </div>
                            <div class="row" style="padding-left: 30px;">
                                <div class="col-md-12 form-inline">
                                    <span>1</span>
                                    <input type="hidden" value="1" name="relayno1">
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="relayno_name1" placeholder="监测点名称">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_long1" placeholder="辅助线长度L">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_radius1" placeholder="辅助线线径S">
                                    </div>
                                </div>
                                <div class="col-md-12 form-inline">
                                    <span>2</span>
                                    <input type="hidden" value="2" name="relayno2">
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="relayno_name2" placeholder="监测点名称">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_long2" placeholder="辅助线长度L">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_radius2" placeholder="辅助线线径S">
                                    </div>
                                </div>
                                <div class="col-md-12 form-inline">
                                    <span>3</span>
                                    <input type="hidden" value="3" name="relayno3">
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="relayno_name3" placeholder="监测点名称">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_long3" placeholder="辅助线长度L">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_radius3" placeholder="辅助线线径S">
                                    </div>
                                </div>
                                <div class="col-md-12 form-inline">
                                    <span>4</span>
                                    <input type="hidden" value="4" name="relayno4">
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="relayno_name4" placeholder="监测点名称">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_long4" placeholder="辅助线长度L">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <input type="text" value="" class="form-control" name="rst_line_radius4" placeholder="辅助线线径S">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="etcr-f" ng-if="changeEtcr == 2">
                            <div class="row">
                                <div class="col-md-12">
                                    R1、RC参数：
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group col-md-12">
                                        <label>R1参数</label>&nbsp;<span class="text-danger">[*]</span>
                                        <input type="text" value="" class="form-control" name="rst_threshold" placeholder="请输入R1">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group col-md-12">
                                        <label>R2参数</label>&nbsp;<span class="text-danger">[*]</span>
                                        <input type="text" value="" class="form-control" name="rst_threshold" placeholder="请输入R2">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>

            </div>
            <div class="modal-footer">

                <button type="button" class="btn btn-danger btn-sm"
                        data-dismiss="modal">
                    <i class="fa fa-remove"></i>&nbsp;关闭
                </button>
                <button type="button" ng-disabled="form.$invalid"
                        class="btn btn-success btn-sm" id="add_btn">
                    <i class="fa fa-plus"></i>&nbsp;新增
                </button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $("#add_btn").click(function() {
        /*if($("#connectTypeAdd").val() == "全部模式"){
            alert("请选择网络模式！")
            return false;
        }*/
        $('#addForm').submit();
        xh.add();
    });
</script>